
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://eaton-lab.org/hack-the-planet/tutorials/12.0-api-access/">
      
      
        <link rel="prev" href="../11.0-miniproject-kickoff/">
      
      
        <link rel="next" href="../12.1-vcf-files/">
      
      
      <link rel="icon" href="/images/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>12.0 -- REST APIs for Bio Data - Hack-the-Planet</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/pages.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/base16-unikitty-light.min.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#notebook-120-restful-gbif" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Hack-the-Planet" class="md-header__button md-logo" aria-label="Hack-the-Planet" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m9.37 4 1.41 2.5L9.37 9H6.63l-1.4-2.5L6.63 4zm.88-2h-4.5c-.19 0-.36.11-.44.26L3.09 6.22 3 6.5l.09.28 2.22 3.96c.08.15.25.26.44.26h4.5c.19 0 .36-.11.44-.26l2.22-3.96.09-.28-.09-.28-2.22-3.96a.5.5 0 0 0-.44-.26m8.37 7.5L20 12l-1.38 2.5h-2.74L14.5 12l1.38-2.5zm.88-2H15c-.19 0-.36.11-.44.26l-2.22 3.96-.09.28.09.28 2.22 3.96c.08.15.25.26.44.26h4.5c.19 0 .36-.11.44-.26l2.22-3.96.09-.28-.09-.28-2.22-3.96a.5.5 0 0 0-.44-.26M9.37 15l1.41 2.5L9.37 20H6.63l-1.4-2.5 1.4-2.5zm.88-2h-4.5c-.19 0-.36.11-.44.26l-2.22 3.96-.09.28.09.28 2.22 3.96c.08.15.25.26.44.26h4.5c.19 0 .36-.11.44-.26l2.22-3.96.09-.28-.09-.28-2.22-3.96a.5.5 0 0 0-.44-.26"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Hack-the-Planet
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              12.0 -- REST APIs for Bio Data
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-label="Switch to lightmode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to lightmode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/eaton-lab/hack-the-planet" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Hack-the-Planet" class="md-nav__button md-logo" aria-label="Hack-the-Planet" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m9.37 4 1.41 2.5L9.37 9H6.63l-1.4-2.5L6.63 4zm.88-2h-4.5c-.19 0-.36.11-.44.26L3.09 6.22 3 6.5l.09.28 2.22 3.96c.08.15.25.26.44.26h4.5c.19 0 .36-.11.44-.26l2.22-3.96.09-.28-.09-.28-2.22-3.96a.5.5 0 0 0-.44-.26m8.37 7.5L20 12l-1.38 2.5h-2.74L14.5 12l1.38-2.5zm.88-2H15c-.19 0-.36.11-.44.26l-2.22 3.96-.09.28.09.28 2.22 3.96c.08.15.25.26.44.26h4.5c.19 0 .36-.11.44-.26l2.22-3.96.09-.28-.09-.28-2.22-3.96a.5.5 0 0 0-.44-.26M9.37 15l1.41 2.5L9.37 20H6.63l-1.4-2.5 1.4-2.5zm.88-2h-4.5c-.19 0-.36.11-.44.26l-2.22 3.96-.09.28.09.28 2.22 3.96c.08.15.25.26.44.26h4.5c.19 0 .36-.11.44-.26l2.22-3.96.09-.28-.09-.28-2.22-3.96a.5.5 0 0 0-.44-.26"/></svg>

    </a>
    Hack-the-Planet
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/eaton-lab/hack-the-planet" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/syllabus" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Syllabus
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/schedule" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Schedule
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sessions
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Sessions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sessions/session-1" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Session 1 - (1/21)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sessions/session-2" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Session 2 - (1/23)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sessions/session-3" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Session 3 - (1/28)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sessions/session-4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Session 4 - (1/30)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sessions/session-5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Session 5 - (2/4)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sessions/session-6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Session 6 - (2/6)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sessions/session-7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Session 7 - (2/11)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sessions/session-8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Session 8 - (2/13)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sessions/session-9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Session 9 - (2/18)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sessions/session-10/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Session 10 - (2/20)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sessions/session-11/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Session 11 - (2/25)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sessions/session-12/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Session 12 - (2/27)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sessions/session-13/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Session 13 - (3/4)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sessions/session-14/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Session 14 - (3/6)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sessions/session-15/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Session 15 - (3/11)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sessions/session-16/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Session 16 - (3/13)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sessions/session-17/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Session 17 - (3/25)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Session 2 - (1/23)
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Session 2 - (1/23)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2.0-github" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.0 -- GitHub
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2.1-shell" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.1 -- Shell
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2.2-bash" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.2 -- Shell challenge
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Session 3 - (1/28)
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Session 3 - (1/28)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3.1-markdown" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.1 -- Markdown
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3.2-git-branching" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.2 -- git branching
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3.3-github-pages" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.3 -- GitHub pages
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Session 4 - (1/30)
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Session 4 - (1/30)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4.0-conda" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.0 -- conda
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4.1-jupyter" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.1 -- jupyter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4.2-forking" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.2 -- GitHub fork
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Session 5 - (2/4)
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            Session 5 - (2/4)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../5.0-python-part1" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.0 -- Python variables, lists, loops
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5" >
        
          
          <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Session 6 - (2/6)
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            Session 6 - (2/6)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../6.0-python-part2" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.0 -- Python (dict, if/else, functions)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../6.1-microproject-wf" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.1 -- Wright-Fisher model miniproject
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_6" >
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Session 7 - (2/11)
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            Session 7 - (2/11)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../7.0-subprocess" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.0 -- Subprocess
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../7.1-think" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.1 -- Think-functionally
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../7.2-scripting" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.2 -- Scripting
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../7.3-imports" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.3 -- Imports
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_7" >
        
          
          <label class="md-nav__link" for="__nav_5_7" id="__nav_5_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Session 8 - (2/13)
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_7">
            <span class="md-nav__icon md-icon"></span>
            Session 8 - (2/13)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../8.0-wf-class" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8.0 -- Classes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../8.1-data-science" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8.1 -- Data Science
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_8" >
        
          
          <label class="md-nav__link" for="__nav_5_8" id="__nav_5_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Session 9 - (2/18)
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_8">
            <span class="md-nav__icon md-icon"></span>
            Session 9 - (2/18)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../9.0-scripting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    9.0 -- Scripting basics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../9.1-wf-script/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    9.1 -- Scripting the WF model
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_9" >
        
          
          <label class="md-nav__link" for="__nav_5_9" id="__nav_5_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Session 10 - (2/20)
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_9">
            <span class="md-nav__icon md-icon"></span>
            Session 10 - (2/20)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../10.0-sublimetext3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10.0 -- Sublime text
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../10.1-style/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10.1 -- Style
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_10" >
        
          
          <label class="md-nav__link" for="__nav_5_10" id="__nav_5_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Session 11 - (2/25)
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_10">
            <span class="md-nav__icon md-icon"></span>
            Session 11 - (2/25)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../11.0-miniproject-kickoff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11.0 -- Mini-project kickoff
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_11" checked>
        
          
          <label class="md-nav__link" for="__nav_5_11" id="__nav_5_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Session 12 - (2/27)
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_11_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_11">
            <span class="md-nav__icon md-icon"></span>
            Session 12 - (2/27)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    12.0 -- REST APIs for Bio Data
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    12.0 -- REST APIs for Bio Data
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#learning-objectives" class="md-nav__link">
    <span class="md-ellipsis">
      Learning objectives
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gbif-the-global-biodiversity-information-facility" class="md-nav__link">
    <span class="md-ellipsis">
      GBIF - The Global Biodiversity Information Facility
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#required-software" class="md-nav__link">
    <span class="md-ellipsis">
      Required software
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-design-of-rest-apis" class="md-nav__link">
    <span class="md-ellipsis">
      The design of REST APIs.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limits" class="md-nav__link">
    <span class="md-ellipsis">
      Limits
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#good-rest-apis" class="md-nav__link">
    <span class="md-ellipsis">
      Good REST APIs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-does-gbif-do" class="md-nav__link">
    <span class="md-ellipsis">
      What does GBIF do?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rest-apis-and-websites" class="md-nav__link">
    <span class="md-ellipsis">
      REST APIs and websites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-base-url" class="md-nav__link">
    <span class="md-ellipsis">
      The base-url
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-query-gbif" class="md-nav__link">
    <span class="md-ellipsis">
      How to query GBIF
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#json-format" class="md-nav__link">
    <span class="md-ellipsis">
      JSON format
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requests" class="md-nav__link">
    <span class="md-ellipsis">
      Requests
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parse-a-response" class="md-nav__link">
    <span class="md-ellipsis">
      Parse a Response
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parsing-the-results" class="md-nav__link">
    <span class="md-ellipsis">
      Parsing the results
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#so-wheres-the-data" class="md-nav__link">
    <span class="md-ellipsis">
      So where's the data?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-a-request" class="md-nav__link">
    <span class="md-ellipsis">
      Building a request
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narrowing-requestresponses" class="md-nav__link">
    <span class="md-ellipsis">
      Narrowing request/responses
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-more-complex-queries" class="md-nav__link">
    <span class="md-ellipsis">
      Building more complex queries
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-complex-search" class="md-nav__link">
    <span class="md-ellipsis">
      A complex search
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#combining-many-searches" class="md-nav__link">
    <span class="md-ellipsis">
      Combining many searches
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-full-data" class="md-nav__link">
    <span class="md-ellipsis">
      The full data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#assignment" class="md-nav__link">
    <span class="md-ellipsis">
      Assignment:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Assignment:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#task-1" class="md-nav__link">
    <span class="md-ellipsis">
      Task 1:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#task-2" class="md-nav__link">
    <span class="md-ellipsis">
      Task 2:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-advanced-challenge" class="md-nav__link">
    <span class="md-ellipsis">
      [Optional] Advanced challenge
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assessment" class="md-nav__link">
    <span class="md-ellipsis">
      Assessment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../12.1-vcf-files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    12.1 -- VCF Files
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_12" >
        
          
          <label class="md-nav__link" for="__nav_5_12" id="__nav_5_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Session 13 - (3/4)
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_12">
            <span class="md-nav__icon md-icon"></span>
            Session 13 - (3/4)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../13.0-DebuggingChallenges/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    13.0 -- Debugging Challenges
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_13" >
        
          
          <label class="md-nav__link" for="__nav_5_13" id="__nav_5_13_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Session 14 - (3/6)
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_13">
            <span class="md-nav__icon md-icon"></span>
            Session 14 - (3/6)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../14.0-DebuggingChallenges2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    14.0 -- Debugging Challenges 2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../14.1-intro-plotting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    14.1 -- Data Visualization
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_14" >
        
          
          <label class="md-nav__link" for="__nav_5_14" id="__nav_5_14_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Session 15 - (3/11)
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_14">
            <span class="md-nav__icon md-icon"></span>
            Session 15 - (3/11)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../15.0-DebuggingChallenge3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    15.0 -- Debugging Challenges 3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../15.1-intro-scikit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    15.1 -- Machine Learning
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_15" >
        
          
          <label class="md-nav__link" for="__nav_5_15" id="__nav_5_15_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Session 17 - (3/25)
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_15">
            <span class="md-nav__icon md-icon"></span>
            Session 17 - (3/25)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../17.0-git-collab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    17.0 -- Git Collab
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../17.1-git-conflict/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    17.1 -- Git Conflicts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../17.2-git-in-class/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    17.2 -- Git In Class
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Resources
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Resources
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/proposals" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    project proposals
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/presentations" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    project presentations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pages/project-submit" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    project submissions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://pinky.eaton-lab.org/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pinky server
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/usernames.csv" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    repos
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    External Links
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            External Links
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://courseworks2.columbia.edu/courses/sis_course_id:EEEBW4050_001_2025_1" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    courseworks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://gitter.im/hack-the-planet-course/community" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    gitter chatroom
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#learning-objectives" class="md-nav__link">
    <span class="md-ellipsis">
      Learning objectives
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gbif-the-global-biodiversity-information-facility" class="md-nav__link">
    <span class="md-ellipsis">
      GBIF - The Global Biodiversity Information Facility
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#required-software" class="md-nav__link">
    <span class="md-ellipsis">
      Required software
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-design-of-rest-apis" class="md-nav__link">
    <span class="md-ellipsis">
      The design of REST APIs.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limits" class="md-nav__link">
    <span class="md-ellipsis">
      Limits
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#good-rest-apis" class="md-nav__link">
    <span class="md-ellipsis">
      Good REST APIs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-does-gbif-do" class="md-nav__link">
    <span class="md-ellipsis">
      What does GBIF do?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rest-apis-and-websites" class="md-nav__link">
    <span class="md-ellipsis">
      REST APIs and websites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-base-url" class="md-nav__link">
    <span class="md-ellipsis">
      The base-url
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-query-gbif" class="md-nav__link">
    <span class="md-ellipsis">
      How to query GBIF
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#json-format" class="md-nav__link">
    <span class="md-ellipsis">
      JSON format
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requests" class="md-nav__link">
    <span class="md-ellipsis">
      Requests
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parse-a-response" class="md-nav__link">
    <span class="md-ellipsis">
      Parse a Response
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parsing-the-results" class="md-nav__link">
    <span class="md-ellipsis">
      Parsing the results
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#so-wheres-the-data" class="md-nav__link">
    <span class="md-ellipsis">
      So where's the data?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-a-request" class="md-nav__link">
    <span class="md-ellipsis">
      Building a request
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narrowing-requestresponses" class="md-nav__link">
    <span class="md-ellipsis">
      Narrowing request/responses
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-more-complex-queries" class="md-nav__link">
    <span class="md-ellipsis">
      Building more complex queries
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-complex-search" class="md-nav__link">
    <span class="md-ellipsis">
      A complex search
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#combining-many-searches" class="md-nav__link">
    <span class="md-ellipsis">
      Combining many searches
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-full-data" class="md-nav__link">
    <span class="md-ellipsis">
      The full data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#assignment" class="md-nav__link">
    <span class="md-ellipsis">
      Assignment:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Assignment:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#task-1" class="md-nav__link">
    <span class="md-ellipsis">
      Task 1:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#task-2" class="md-nav__link">
    <span class="md-ellipsis">
      Task 2:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-advanced-challenge" class="md-nav__link">
    <span class="md-ellipsis">
      [Optional] Advanced challenge
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assessment" class="md-nav__link">
    <span class="md-ellipsis">
      Assessment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="notebook-120-restful-gbif">Notebook 12.0 RESTful GBIF<a class="headerlink" href="#notebook-120-restful-gbif" title="Permanent link">&para;</a></h1>
<p>This notebook will introduce you to methods for access and parse data from online databases by accessing websites that have RESTful APIs. </p>
<h3 id="learning-objectives">Learning objectives<a class="headerlink" href="#learning-objectives" title="Permanent link">&para;</a></h3>
<ul>
<li>Gain familiarity with the GBIF biological database</li>
<li>Understand the structure of REST API requests</li>
<li>Be able to use the <code>request</code> Python library to query REST APIs</li>
</ul>
<h3 id="gbif-the-global-biodiversity-information-facility">GBIF - The Global Biodiversity Information Facility<a class="headerlink" href="#gbif-the-global-biodiversity-information-facility" title="Permanent link">&para;</a></h3>
<p>Check out how amazing <a href="https://www.gbif.org/">GBIF</a> is as a source for biological data. Wouldn't it be great if you could automate accessing the information here????</p>
<h3 id="required-software">Required software<a class="headerlink" href="#required-software" title="Permanent link">&para;</a></h3>
<p>Install the following with conda before running this notebook</p>
<div class="highlight"><pre><span></span><code><span class="c1"># conda install pandas requests toyplot -c conda-forge</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">toyplot</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
</code></pre></div>
<h3 id="the-design-of-rest-apis">The design of REST APIs.<a class="headerlink" href="#the-design-of-rest-apis" title="Permanent link">&para;</a></h3>
<p>The idea behind REST APIs is that data on a server (like a webpage) can be accessed with a consistent type of argument in the form of a URL, to query data which will then be returned in a form that is easy to analyze (usually json or xml), as opposed to being returned in messy HTML that needs to be parsed. Many websites have REST APIs, but some are much easier to use than others. </p>
<h3 id="limits">Limits<a class="headerlink" href="#limits" title="Permanent link">&para;</a></h3>
<p>Many REST APIs have limits on the way that you can use them. For example, the REST APIs for Twitter, GitHub, and Reddit require that you login in order to access data, and some sites will throttle how many requests you can make per hour. In this notebook we will be focusing on accessing data from websites that <em>are designed to be queried</em> -- they purposefully created an API for this purpose. It's worth noting that there exists other methods to parse data from the raw HTML representation of websites, but that is not our focus here. By contrast, sites with API access typically have data stored in a server database that allows efficient access to even enormous datasets with billions of records (e.g., Twitter).</p>
<h3 id="good-rest-apis">Good REST APIs<a class="headerlink" href="#good-rest-apis" title="Permanent link">&para;</a></h3>
<p>A good REST API will have good documentation explaining its intended usage. Two very good examples are the <a href="https://bison.usgs.gov/#api">USDA Bison API</a> and the <a href="https://www.gbif.org/developer/summary">Global Biodiversity Information Facility (GBIF) API</a>. We'll focus on the latter in this notebook. The GBIF database is an international effort to collect all observation data on plants, animals, and fungi into a single place where it can be searched. It is actually a conglomeration of many separate databases, with data from museums and similar institutions all over the world. These APIs are free to use but request that you cite them if the data is used in a publication eventually. </p>
<p>(Although GBIF is free to use it does limit the size of a request you can make at once, but there are ways around this as explained in its documentation.)</p>
<h3 id="what-does-gbif-do">What does GBIF do?<a class="headerlink" href="#what-does-gbif-do" title="Permanent link">&para;</a></h3>
<p>GBIF can be used to find specimen collection records, or other types of observation data, stored in museum type databases. The website offers a convenient way to request taxa by name, and to select specific research criteria. For example, if we wanted to find all specimens of bumblebees (genus <em>Bombus</em>) that were collected between 1910 and 1920 we could request this through the website. It will draw a nice map with their locations and you can download a table with coordinates of where they were collected. This is actually one of the best databases around, since it organizes the data quite easily for you to download, but nevertheless, we'll use it as our example to learn REST APIs. </p>
<h3 id="rest-apis-and-websites">REST APIs and websites<a class="headerlink" href="#rest-apis-and-websites" title="Permanent link">&para;</a></h3>
<p>It's worth noting that the GBIF website itself is designed around the REST API. When you fill in the search form on the site to tell it to search a particular species from a particular area, its response is collected from the database in the same way that your response would be when you make the same request using a URL passed to the API. The website simply takes this response (likely in JSON format) and renders it nicely into a table or map for you to view on the website. This is how many websites work!</p>
<p>Even though GBIF has a very nice web interface, it is obviously often more efficient to be able to query this database programmatically, instead of having to type each name we wish to search, and click on several buttons. This can provide a much more powerful way of applying filters over many different types of searches. That is the idea behind REST APIs and the reason why GBIF provides one. </p>
<h3 id="the-base-url">The base-url<a class="headerlink" href="#the-base-url" title="Permanent link">&para;</a></h3>
<p>The base URL is the web address of the API. This is simply a string that we wil add arguments to in order to request particular types of data be returned to use from the database. For GBIF this is the following, which we'll store as a string for now. This base-url address is given to us right at the top of the <a href="https://www.gbif.org/developer/occurrence">GBIF API documentation</a>. You can see that it looks much like any other web address. </p>
<div class="highlight"><pre><span></span><code><span class="c1"># store the base url as a string variable</span>
<span class="n">baseurl</span> <span class="o">=</span> <span class="s2">&quot;http://api.gbif.org/v1/occurrence/search?&quot;</span>
</code></pre></div>
<h3 id="how-to-query-gbif">How to query GBIF<a class="headerlink" href="#how-to-query-gbif" title="Permanent link">&para;</a></h3>
<p>As you can see in the URL below, an API query just has additional arguments added to the baseurl. The string below searches for records with the name <em>Bombus</em>, which is the genus for bumblebees. We've added just the 'query' option 'q' and the name. How did I know that 'q' was valid parameter to this API? By reading the documentation.</p>
<p>We'll see next how to make more complex queries. But first, copy the URL below (without the quotation marks around it) and paste it into a web browser. This will show you what the returned data looks like. It might look a bit different depending on which browser you are using (I recommend using firefox or chrome) but the underlying data is the same, and is called JSON data.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># store a endpoint request as a string variable</span>
<span class="n">search_url</span> <span class="o">=</span> <span class="s2">&quot;http://api.gbif.org/v1/occurrence/search?q=Bombus&quot;</span>
</code></pre></div>
<h3 id="json-format">JSON format<a class="headerlink" href="#json-format" title="Permanent link">&para;</a></h3>
<p>We will be using the <code>requests</code> library to get data from online, but before we do, let's talk a bit about how the data will be structured so we know what to expect. The data that you should see in your browser now is called JSON formatted data.  You'll notice that this format is almost identical to what a Python dictionary looks like. It is composed of key:value pairs. This will make it particularly easy to work with. </p>
<h3 id="requests">Requests<a class="headerlink" href="#requests" title="Permanent link">&para;</a></h3>
<p><a href="http://docs.python-requests.org/en/master/user/quickstart/">Documentation</a></p>
<p>The <code>requests</code> package work a bit like an automated web browser. We've used <code>requests</code> briefly in the past but now we'll start to use it more effectively. The main function we will call is <code>.get()</code>, which will send a GET command (a form of HTTP method that the web is built on) to the web address and return a Response Class object. We will then access attributes and functions of the Response instance to see if our request worked, and to parse the resulting text from it. Let's try this on our <code>search_url</code> string defined above. </p>
<div class="highlight"><pre><span></span><code><span class="c1"># create a Response instance from a request</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">search_url</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># check that your request worked (200 = worked; other codes No))</span>
<span class="n">response</span><span class="o">.</span><span class="n">status_code</span> 
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># or, run this to check if it worked.</span>
<span class="c1"># This would return an error message if it didn&#39;t work (else None)</span>
<span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
</code></pre></div>
<h3 id="parse-a-response">Parse a Response<a class="headerlink" href="#parse-a-response" title="Permanent link">&para;</a></h3>
<p>Before when we've used <code>requests</code> we've parsed the results as plain text, since it was usually in a format that was easiest to work with as a string (we used requests in an early notebook to download iris-data-dirty.csv). In this case, we are going to access the data a bit differently, by instead  accessing it in JSON format. This is easily available from the object just like text is. The first is not very easily readable or parseable, whereas the second can be accessed and searched more easily. </p>
<div class="highlight"><pre><span></span><code><span class="c1"># first 500 characters of the .text string from GBIF API query</span>
<span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">[:</span><span class="mi">500</span><span class="p">]</span>
</code></pre></div>
<p>As you can see above, the result is a string. But we want it to be parsed as a dictionary. The <code>.json()</code> function of the response object will do this for us.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># or, get results as a dictionary (JSON converted)</span>
<span class="n">rdict</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

<span class="c1"># get some quick info on the dictionary keys</span>
<span class="nb">list</span><span class="p">(</span><span class="n">rdict</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</code></pre></div>
<h3 id="parsing-the-results">Parsing the results<a class="headerlink" href="#parsing-the-results" title="Permanent link">&para;</a></h3>
<p>In GBIF our response can be parsed into a dictionary object using the JSON format, and this has six keys shown above. These are explained in the API docs, and correspond to information about what records are available for our query. However, it did not return <em>all</em> of the data for those records to us yet. That would be too easy. Instead, databases usually have limits on the amount of data from each request as a way of limiting the bandwidth they will need for sending the data, and to make it faster. For GBIF the default number, shown under the "limit" key, is 20. And the default starting position, shown under "offset" is 0. The total number of records is in "count". So for <em>Bombus</em>, as we show below, there are &gt;2M records, but only records 1-20 were returned to us so far.</p>
<div class="highlight"><pre><span></span><code><span class="c1">## how many records are there for this query</span>
<span class="n">rdict</span><span class="p">[</span><span class="s2">&quot;count&quot;</span><span class="p">]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1">## how many records were returned</span>
<span class="n">rdict</span><span class="p">[</span><span class="s2">&quot;limit&quot;</span><span class="p">]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1">## starting from which record</span>
<span class="n">rdict</span><span class="p">[</span><span class="s2">&quot;offset&quot;</span><span class="p">]</span>
</code></pre></div>
<h3 id="so-wheres-the-data">So where's the data?<a class="headerlink" href="#so-wheres-the-data" title="Permanent link">&para;</a></h3>
<p>It's stored under the <code>results</code> key, and is returned as a list of dictionaries, where each dictionary is a record with lots of information. Below I show the first record from our search. </p>
<div class="highlight"><pre><span></span><code><span class="c1"># here is the first record, it&#39;s also a dictionary</span>
<span class="n">rdict</span><span class="p">[</span><span class="s2">&quot;results&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div>
<p>There are too many columns for you see them all here. We will call .columns to see all the column names printed as a list.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># load as a dataframe</span>
<span class="n">sdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">rdict</span><span class="p">[</span><span class="s1">&#39;results&#39;</span><span class="p">])</span>
<span class="n">sdf</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">sdf</span><span class="o">.</span><span class="n">columns</span>
</code></pre></div>
<h3 id="building-a-request">Building a request<a class="headerlink" href="#building-a-request" title="Permanent link">&para;</a></h3>
<p>Here we add more arguments to further filter the results. To see which options are available, you can either look at the results from our existing calls so far, or you can read further into the API docs. Sometimes API docs will be incomplete though, so it can be useful to learn to try to infer which options are possible from looking at the results. A more complex search is accomplished by building a URL that has more key:value pairs each appended to the end of the URL, and separated by a "&amp;" symbol. For large searches it begins to get difficult to write out by hand, and that is where <code>requests</code> comes in handy. Here we enter the additional arguments we want using a simple python dictionary into the entry 'params'.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># previously we wrote this request by hand</span>
<span class="n">urlpath</span> <span class="o">=</span> <span class="s2">&quot;http://api.gbif.org/v1/occurrence/search?q=Bombus&quot;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># here we create the same urlpath using params</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://api.gbif.org/v1/occurrence/search/&quot;</span><span class="p">,</span>
    <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;q&quot;</span><span class="p">:</span> <span class="s2">&quot;Bombus&quot;</span><span class="p">}</span>
<span class="p">)</span>

<span class="c1"># show url path</span>
<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
</code></pre></div>
<h3 id="narrowing-requestresponses">Narrowing request/responses<a class="headerlink" href="#narrowing-requestresponses" title="Permanent link">&para;</a></h3>
<p>If you looked closely at the results above you may have noticed that the records returned are <em>not</em> actually all for organisms in the genus Bombus. Instead results include things like <em>Chaetocercus bombus</em> and other organisms that happen to have "bombus" in their names.</p>
<p>This is why its important to look closely at your data. Looking back at the documentation we can see that the 'q=something' search parameter returns a fuzzy hit to anything that has the query in its data. If we instead want to restrict to the genus Bombus we need to find the <code>genusKey</code> for Bombus. This can be found using the 'species' endpoint in the API. So let's take a side track to find this. Note we are searching a <em>different</em> baseurl now, to look in the 'species' path instead of the 'occurrence' path. </p>
<p>The results below provide unique identifiers that are more reliable for searching the database. We will use the genusKey=1340278 for our next search of the occurrence database.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># get taxonomy info for the genus Bombus</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://api.gbif.org/v1/species/match/&quot;</span><span class="p">,</span>
    <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;genus&quot;</span><span class="p">:</span> <span class="s2">&quot;Bombus&quot;</span><span class="p">},</span>
<span class="p">)</span>
<span class="n">res</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre></div>
<p>Here is a different search for the genus <em>Pedicularis</em>. This is a group of plants that I study. You can see that it returns a different set of taxonomic keys. Feel free to try searching a taxon of your choice.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># get taxonomy info for the genus Pedicularis</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://api.gbif.org/v1/species/match/&quot;</span><span class="p">,</span>
    <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;genus&quot;</span><span class="p">:</span> <span class="s2">&quot;Pedicularis&quot;</span><span class="p">},</span>
<span class="p">)</span>
<span class="n">res</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre></div>
<h3 id="building-more-complex-queries">Building more complex queries<a class="headerlink" href="#building-more-complex-queries" title="Permanent link">&para;</a></h3>
<p>Below I show the URL for when we add the requirement that a record have coordinate data, and for when we add additional arguments to raise the limit for the number of records returned. The max records at a time (limit - offset) is 300. Above that you need to increment the offset to search higher values. You can see that the URL is simply appending additional queries to the end after the ? symbol to build more complex queries.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># add requirement that the record have coordinate data</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://api.gbif.org/v1/occurrence/search/&quot;</span><span class="p">,</span>
    <span class="n">params</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;genusKey&quot;</span><span class="p">:</span> <span class="mi">1340278</span><span class="p">,</span> 
        <span class="s2">&quot;hasCoordinate&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">)</span>
<span class="n">res</span><span class="o">.</span><span class="n">url</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># request records 0-100</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://api.gbif.org/v1/occurrence/search/&quot;</span><span class="p">,</span>
    <span class="n">params</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;genusKey&quot;</span><span class="p">:</span> <span class="mi">1340278</span><span class="p">,</span> 
        <span class="s2">&quot;hasCoordinate&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span>
        <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
        <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">)</span>
<span class="n">res</span><span class="o">.</span><span class="n">url</span>
</code></pre></div>
<h3 id="a-complex-search">A complex search<a class="headerlink" href="#a-complex-search" title="Permanent link">&para;</a></h3>
<p>Here I request all Bombus records from 1900-1910 that are associated with a preserved specimen (as opposed to HUMAN_OBSERVATION or FOSSIL_SPECIMEN), has spatial data, and is in the US. The 'count' shows us that there are &gt;6000 records meeting these requirements. This individual search returned only 20 of these results though, and at most can do 300 at a time. So we will need to use a trick to get all the records.</p>
<div class="highlight"><pre><span></span><code><span class="n">res</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://api.gbif.org/v1/occurrence/search/&quot;</span><span class="p">,</span>
    <span class="n">params</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;genusKey&quot;</span><span class="p">:</span> <span class="mi">1340278</span><span class="p">,</span> 
        <span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="s2">&quot;1900,1910&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;basisOfRecord&quot;</span><span class="p">:</span> <span class="s2">&quot;PRESERVED_SPECIMEN&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hasCoordinate&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hasGeospatialIssue&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
        <span class="s2">&quot;country&quot;</span><span class="p">:</span> <span class="s2">&quot;US&quot;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;count&quot;</span><span class="p">])</span>
</code></pre></div>
<h3 id="combining-many-searches">Combining many searches<a class="headerlink" href="#combining-many-searches" title="Permanent link">&para;</a></h3>
<p>If we wanted to collect all records for a given search then we need to increment the "offset" argument until we reach the end of the records. Each is returned as a list of dictionaries, so we can just join all of those lists together and return them. That sounds a bit complex, so let's to it in two parts, first we'll write a function to fulfill a single request, and then a function to call many requests.</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_single_batch</span><span class="p">(</span><span class="n">genusKey</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">20</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a GBIF REST query with records between offset</span>
<span class="sd">    and offset + limit in JSON format. The genusKey and </span>
<span class="sd">    year interval can be changed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://api.gbif.org/v1/occurrence/search/&quot;</span><span class="p">,</span>
        <span class="n">params</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;genusKey&quot;</span><span class="p">:</span> <span class="n">genusKey</span><span class="p">,</span>
            <span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="n">year</span><span class="p">,</span>
            <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="n">offset</span><span class="p">,</span>
            <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span>
            <span class="s2">&quot;hasCoordinate&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span>
            <span class="s2">&quot;country&quot;</span><span class="p">:</span> <span class="s2">&quot;US&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">res</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># test single batch function</span>
<span class="n">jdata</span> <span class="o">=</span> <span class="n">get_single_batch</span><span class="p">(</span>
    <span class="n">genusKey</span><span class="o">=</span><span class="mi">3171670</span><span class="p">,</span>
    <span class="n">year</span><span class="o">=</span><span class="s2">&quot;1990,2020&quot;</span><span class="p">,</span>
    <span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
    <span class="n">limit</span><span class="o">=</span><span class="mi">20</span>
<span class="p">)</span>

<span class="c1"># how many results were fetched?</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">jdata</span><span class="p">[</span><span class="s2">&quot;results&quot;</span><span class="p">]))</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># did we reach the end of the records?</span>
<span class="n">jdata</span><span class="p">[</span><span class="s2">&quot;endOfRecords&quot;</span><span class="p">]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_all_records</span><span class="p">(</span><span class="n">genusKey</span><span class="p">,</span> <span class="n">year</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Iterate requests over incremental offset positions until</span>
<span class="sd">    all records have been fetched. When the last record has</span>
<span class="sd">    been fetched the key &#39;endOfRecords&#39; will be &#39;true&#39;. Takes</span>
<span class="sd">    the API params as a dictionary. Returns result as a list</span>
<span class="sd">    of dictionaries.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># for storing results</span>
    <span class="n">alldata</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># continue until we call &#39;break&#39;</span>
    <span class="n">offset</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="mi">1</span><span class="p">:</span>

        <span class="c1"># get JSON data for a batch </span>
        <span class="n">jdata</span> <span class="o">=</span> <span class="n">get_single_batch</span><span class="p">(</span><span class="n">genusKey</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>

        <span class="c1"># increment counter by 300 (the max limit)</span>
        <span class="n">offset</span> <span class="o">+=</span> <span class="mi">300</span>

        <span class="c1"># add this batch of data to the growing list</span>
        <span class="n">alldata</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">jdata</span><span class="p">[</span><span class="s2">&quot;results&quot;</span><span class="p">])</span>

        <span class="c1"># stop when end of record is reached</span>
        <span class="k">if</span> <span class="n">jdata</span><span class="p">[</span><span class="s2">&quot;endOfRecords&quot;</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Done. Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">alldata</span><span class="p">)</span><span class="si">}</span><span class="s1"> records&#39;</span><span class="p">)</span>
            <span class="k">break</span>

        <span class="c1"># print a dot on each rep to show progress</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">alldata</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># call function to search over all offset values until end. </span>
<span class="c1"># THIS MAY TAKE A FEW MINUTES TO RUN</span>
<span class="n">jdata</span> <span class="o">=</span> <span class="n">get_all_records</span><span class="p">(</span><span class="mi">1340278</span><span class="p">,</span> <span class="s2">&quot;1900,1902&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="the-full-data">The full data<a class="headerlink" href="#the-full-data" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># convert to a data frame</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">jdata</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># keys (columns) in the dataframe (there are many!)</span>
<span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># view just the columns we&#39;re interested in for now.</span>
<span class="n">sdf</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s2">&quot;species&quot;</span><span class="p">,</span> <span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="s2">&quot;decimalLatitude&quot;</span><span class="p">,</span> <span class="s2">&quot;decimalLongitude&quot;</span><span class="p">]]</span>
<span class="n">sdf</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># how many records?</span>
<span class="n">sdf</span><span class="o">.</span><span class="n">shape</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># which unique species?</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sdf</span><span class="o">.</span><span class="n">species</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># plot the number of each species in order (hover over bars for names)</span>
<span class="n">sp_counts</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">species</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="n">toyplot</span><span class="o">.</span><span class="n">bars</span><span class="p">(</span><span class="n">sp_counts</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">350</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">sp_counts</span><span class="o">.</span><span class="n">index</span><span class="p">);</span>
</code></pre></div>
<p>Hover over the bars in the plot above to see the names of species. From this we can easily see which species have the most records, and which are more rare.</p>
<h2 id="assignment">Assignment:<a class="headerlink" href="#assignment" title="Permanent link">&para;</a></h2>
<h3 id="task-1">Task 1:<a class="headerlink" href="#task-1" title="Permanent link">&para;</a></h3>
<p>Write a Class object called <code>Records</code> that can be given a taxon query and a range of years and will return a class instance with all results from GBIF for the queried range using the same params from our example above, but allowing the 'genusKey' and 'year' arguments to be changed. You can reuse the code above to create the core functions for your object, and modify it further if you wish. Look at the example below for the intended usage of your <code>Records</code> class object. It should do the following:</p>
<ol>
<li>Store the genusKey and year params during init().</li>
<li>Write the function <code>get_single_batch</code> to take optional arguments that limit the number of results, and have it <em>return</em> a JSON result as a dictionary.</li>
<li>Write the fuction <code>get_all_records</code> to store the JSON results to the instance object, storing JSON as a dictionary to <code>self.json</code> and as a dataframe to <code>self.df</code>. </li>
</ol>
<div class="highlight"><pre><span></span><code><span class="c1"># skeleton of a class</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Records</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">genusKey</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">year</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

        <span class="c1"># store input params</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">genusKey</span> <span class="o">=</span> <span class="n">genusKey</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">year</span> <span class="o">=</span> <span class="n">year</span>

        <span class="c1"># will be used to store output results</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">df</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">json</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_single_batch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">20</span><span class="p">):</span>
        <span class="s2">&quot;returns JSON result for a small batch query&quot;</span>
        <span class="c1"># ...</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_all_records</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s2">&quot;stores result for all records to self.json and self.df&quot;</span>
        <span class="c1"># ...</span>
</code></pre></div>
<p>When finished, you should be able to use your class object in the following way. This means that after writing your Class object, test it using the code below and make sure it gives proper results, otherwise keep hacking away at it. </p>
<p><strong>You need to write the Records class before executing the code below</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># create instance by entering query and a range of years as integers</span>
<span class="n">rec</span> <span class="o">=</span> <span class="n">Records</span><span class="p">(</span><span class="n">genusKey</span><span class="o">=</span><span class="mi">1340278</span><span class="p">,</span> <span class="n">year</span><span class="o">=</span><span class="s2">&quot;1980,1985&quot;</span><span class="p">)</span>

<span class="c1"># show a small result</span>
<span class="nb">print</span><span class="p">(</span><span class="n">rec</span><span class="o">.</span><span class="n">get_single_batch</span><span class="p">(</span><span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">))</span>

<span class="c1"># get all records</span>
<span class="n">rec</span><span class="o">.</span><span class="n">get_all_records</span><span class="p">()</span>

<span class="c1"># access all of the returned records as a dataframe </span>
<span class="c1"># (here asking for the shape to see how many records there are)</span>
<span class="n">rec</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span>
</code></pre></div>
<h3 id="task-2">Task 2:<a class="headerlink" href="#task-2" title="Permanent link">&para;</a></h3>
<p>Once you have tested your Record class object in this notebook and it is working, follow these instructions to create a Python package with the following file structure:</p>
<div class="highlight"><pre><span></span><code>records/
├── setup.py
└── records/
    ├── __init__.py
    └── records.py
</code></pre></div>
<ol>
<li>Create a new GitHub repo called 'records'.</li>
<li>Clone it to your computer.</li>
<li>Create a subfolder called records (<code>records/records/</code>)</li>
<li>Create an init file (<code>records/records/__init__.py</code>)</li>
<li>Create a module called records.py (<code>records/records/records.py</code>)</li>
<li>Open the folder in your text editor (vscode or sublime)</li>
<li>Copy your Records class object from here to records.py.</li>
<li>Create a setup.py script to make your package installable (<code>records/setup.py</code>). </li>
<li>Run <code>pip install -e .</code> from <code>records/</code> to install your package locally. </li>
<li>Test that your package is installed and working by importing your new package (called records) in the cell below and running the code. Try to make the Records class object importable in this way. (You may need to restart your notebook). Seek help if you get stuck.</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="c1"># import your library</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">records</span>

<span class="c1"># get an instance given some query parameters</span>
<span class="n">rec</span> <span class="o">=</span> <span class="n">records</span><span class="o">.</span><span class="n">Records</span><span class="p">(</span><span class="n">genusKey</span><span class="o">=</span><span class="mi">1340278</span><span class="p">,</span> <span class="n">year</span><span class="o">=</span><span class="s2">&quot;1990,2000&quot;</span><span class="p">)</span>

<span class="c1"># access the dataframe results</span>
<span class="nb">print</span><span class="p">(</span><span class="n">rec</span><span class="o">.</span><span class="n">get_single_batch</span><span class="p">())</span>
</code></pre></div>
<h3 id="optional-advanced-challenge">[Optional] Advanced challenge<a class="headerlink" href="#optional-advanced-challenge" title="Permanent link">&para;</a></h3>
<p>If you accomplished this task easily then try to add an additional function to your package to allow entering the genus as a string, such that your code will search the taxonomic database to automatically find the integer genusKey to use in the occurrence database query, instead of requiring you to enter it as a numeric genusKey.</p>
<h3 id="assessment">Assessment<a class="headerlink" href="#assessment" title="Permanent link">&para;</a></h3>
<p>You will be graded on the <code>records</code> class package in your GitHub repo. This notebook is only for instructions and learning and does not need to be submitted.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "search.highlight", "search.suggest", "content.code.annotate", "content.code.copy"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      
    
  </body>
</html>